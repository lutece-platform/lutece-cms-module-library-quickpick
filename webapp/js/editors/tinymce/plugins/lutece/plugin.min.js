tinymce.PluginManager.requireLangPack('lutece', 'fr_FR');
tinymce.PluginManager.add('lutece', function(editor, url) {
        editor.addButton("lutece",{
                icon:true,
                image: url +'/img/lutece.png',
                tooltip: "Insert Lutece Link",
                onclick:function(){
                        console.log( "tinyMCE.base_url : " + url );
                        editor.windowManager.open(
                            {title:"Lutece",url: url + "../../../../../../jsp/admin/insert/GetAvailableInsertServices.jsp?input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}) ,width:800,height:500,buttons:[{text:"Close",onclick:"close"}]}
                        )}
	}),

	editor.addMenuItem("lutece",{
		image: url +'/img/lutece.png',
		text:"Insert Lutece Link",
		context:"insert",
		prependToContext:!0,
		onclick:function(){
			editor.windowManager.open(
				{title:"Lutece",url: url + "../../../../../../jsp/admin/insert/GetAvailableInsertServices.jsp?input=&selected_text=",width:800,height:600,buttons:[{text:"Close",onclick:"close"}]}
			)}
	}),
        
        
        editor.addButton("luteceImg",{
                icon:true,
                image: url +'/img/lutece-add-img.png',
                tooltip: "Insert Lutece Image",
                onclick:function(){
                        console.log( "tinyMCE.base_url : " + url );
                        editor.windowManager.open(
                            {title:"Image",url: url + "../../../../../../jsp/admin/plugins/library/CreateMediaByInsert.jsp?plugin_name=library&media_type=1&space_id=#dskey{library.img.defaultSpace.id}&input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}) ,width:800,height:500,buttons:[{text:"Close",onclick:"close"}]}
                        )}
	}),

	editor.addMenuItem("luteceImg",{
		image: url +'/img/lutece-add-img.png',
		text:"Insert Lutece Image",
		context:"insert_img",
		prependToContext:!0,
		onclick:function(){
			editor.windowManager.open(
                            {title:"Image",url: url + "../../../../../../jsp/admin/plugins/library/CreateMediaByInsert.jsp?plugin_name=library&media_type=1&space_id=#dskey{library.img.defaultSpace.id}&input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}),width:800,height:600,buttons:[{text:"Close",onclick:"close"}]}
			)}
	}),
        
        
        editor.addButton("lutecePdf",{
                icon:true,
                image: url +'/img/lutece-add-pdf.png',
                tooltip: "Insert Lutece PDF",
                onclick:function(){
                        console.log( "tinyMCE.base_url : " + url );
                        editor.windowManager.open(
                            {title:"Image",url: url + "../../../../../../jsp/admin/plugins/library/CreateMediaByInsert.jsp?plugin_name=library&media_type=3&space_id=#dskey{library.pdf.defaultSpace.id}&input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}) ,width:800,height:500,buttons:[{text:"Close",onclick:"close"}]}
                        )}
	}),

	editor.addMenuItem("lutecePdf",{
		image: url +'/img/lutece-add-pdf.png',
		text:"Insert Lutece PDF",
		context:"insert_pdf",
		prependToContext:!0,
		onclick:function(){
			editor.windowManager.open(
                            {title:"Image",url: url + "../../../../../../jsp/admin/plugins/library/CreateMediaByInsert.jsp?plugin_name=library&media_type=3&space_id=#dskey{library.pdf.defaultSpace.id}&input=" + editor.name + "&selected_text=" + editor.selection.getContent({format : 'text'}),width:800,height:600,buttons:[{text:"Close",onclick:"close"}]}
			)}
	})
});

